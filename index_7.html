<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- // .............Прерывание распространения события -->
    <!-- <form class="form">
        <label><input type="radio" name="propagation-control" value="stopPropagation">Stop propagation</label>
        <label><input type="radio" name="propagation-control" value="stopImmediatePropagation">Stop Immediate
            propagation</label>
    </form>
    <ul>
        <li>Первый</li>
        <li>Второй</li>
        <li>Третий</li>
    </ul> -->


    <!-- <script> 

     const form = document.querySelector('.form');//ловим элемент
     const list = document.querySelector('ul');//ловим элемент
    list.addEventListener('click', (e) => {//добавляем обработчик события -- клик-
     console.log('В первом UL в фазе захвата')
     
     const propagationControlMethodName = form.elements['propagation-control'].value;//propagation--распространение, value-свойство
     
     console.log(propagationControlMethodName);//если элемент существует то
     
     if (propagationControlMethodName) {
     
        e[propagationControlMethodName]()//добавляем метод---[propagationControlMethodName]()
     }
     }, true);
     list.addEventListener('click', () => {//добавляем обработку событий-при клике
     console.log('Во втором UL в фазе захвата')
     }, true)
     list.addEventListener('click', () => {//добавляем обработку событий-при клике
     console.log('В первом UL в фазе всплытия')
     })
     Array.from(list.children).forEach((child) => {//бежим по массиву кликаем дочерние элементы
     child.addEventListener('click', () => {
     console.log('В каждом LI в фазе всплытия')
     })
     })
    </script>-->



    <!-- // .........................Действия по умолчанию и отменяемые события -->
    <!--согласие на документе, добавим нажатие на чек бокс -->
    <!-- <form action="#" class="form">
        <h2>Форма</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora nam consequatur voluptatibus similique
            perspiciatis dolore iure alias sequi! Quo, nihil dicta provident optio neque assumenda minima. Nemo
            molestiae porro quis.</p>
        <input id="checkbox" type="checkbox" class="check">
        <label for="checkbox">
            Cогласен с условиями
        </label>
        <div class="error"></div> <!--ошибка -->

    <!-- <button type="submit">Отправить</button>  кнопка отправки 
    </form> -->

    <script>
    //     .........................Действия по умолчанию и отменяемые события -->
    // <!--согласие на документе, добавим нажатие на чек бокс -->
        // const inputEl = document.querySelector('.check');
        // const formEl = document.querySelector('.form');
        // const errorEl = formEl.querySelector('.error');

        // inputEl.addEventListener('click', function (e) {
        //     const target = e.target;  //target---цель
        //     console.log(target.checked);//(target.value--счетчик сколько нажали, checked--true or false---выбран не выбран)
        // });

        // formEl.addEventListener('submit', function (e) {
        //     console.log(inputEl.checked ? 'молодец' : 'Выбрать чекбокс'); //если выбран? то 'молодец', : - или 'Выбрать чекбокс'
        // });



    //   ................or
        // formEl.addEventListener('submit', function (e) {
        //     if (inputEl.checked === true) {//если элемент выбран
        //         console.log('Молодец');
        //     } else {
        //         // console.log('Забыл поставить галочку');
        //         errorEl.textContent = 'Нужно выбрать согласен с условиями';
        //         e.preventDefault();//останавливаем событие если галочка не поставлена
        //     }
        // });
    </script>




    <!--..................... Генерация встроенных событий
Следующий код демонстрирует генерацию события click на DOM-элементе.
 -->
    <!-- <button>Кликни меня!</button>
    <script>
        const eventOptions = { bubbles: true, cancelable: true }
        const event = new Event('click', eventOptions)
        event.view = window
        const mouseEvent = new MouseEvent('click', {
            ...eventOptions,
            view: window,
        })
        document.addEventListener('click', (event) => {
            console.log(event.isTrusted)
        })
        const button = document.querySelector('button')
        button.dispatchEvent(event)
        button.dispatchEvent(mouseEvent)
        button.click()
    </script> -->



    <!-- ....................Генерация пользовательских событий -->

    <!-- <button>Click me!</button>

    <script>
    const eventOptions = {bubbles: true, cancelable: true}
    const event = new Event('foo', eventOptions)
    event.detail = {text: 'Произвольный текст'}
    const customEvent = new CustomEvent('foo', {
    ...eventOptions,
    detail: {text: 'Произвольный текст'},
    })
    document.addEventListener('foo', (event) => {
    console.log(event.detail)
    })
    const button = document.querySelector('button')
    button.dispatchEvent(event)
    button.dispatchEvent(customEvent)
    </script> -->



    <!-- ..........................Растеризация (Painting) создаем вкладку выбора-->

    <!-- <form action="citi.html" class="form">
        <div>
            <label for="select">Город</label>
            <select class="select" name="select" id="select">
                <option class="option" value="city">Выберите город</option>
                <option class="option" value="Krasnodar">Краснодар</option>
                <option class="option" value="Rostov">ростов</option>
                <option class="option" value="Stavropol">Ставрополь</option>
                <option class="option" value="Sochi">Сочи</option>
                <option class="option" value="Maykop">Майкоп</option>

            </select>
        </div>
        <button type="submit" class="button">Отправить</button>

    </form>

    <script>
        const formEl = document.querySelector('.form');
        const selectEl = document.querySelector('.select');
        const buttonEl = formEl.querySelector('.button');

        document.addEventListener('click', function (e) {
            console.log(selectEl.value); // console.log(selectEl.value);-показать какой блок выбран
            e.preventDefault();//остановливаем
            if (selectEl.value === 'city') {
                selectEl.classList.add('Select__error');//добавляем ошибку
            } else {
                selectEl.classList.remove('select__error');//удалить ошубку если выбран город
                return;//вернуть
            }
        });
    </script> -->


    <!-- -------------делаем звезды оценки -->
    <script src="#" crossorigin="anonymous">
    </script>

    <form action="#" class="form">

        <div class="rating_sing">
            <label class="rating_sing_label" for="1"><i class="fa-solid fa-star"></i></label>
            <input class="rating_sing_input" type="radio" name="raiting" id="1" value="1">
        </div>

        <div class="rating_sing">
            <label class="rating_sing_label" for="2"><i class="fa-solid fa-star"></i></label>
            <input class="rating_sing_input" type="radio" name="raiting" id="2" value="2">
        </div>

        <div class="rating_sing">
            <label class="rating_sing_label" for="3"><i class="fa-solid fa-star"></i></label>
            <input class="rating_sing_input" type="radio" name="raiting" id="3" value="3">
        </div>

        <div class="rating_sing">
            <label class="rating_sing_label" for="4"><i class="fa-solid fa-star"></i></label>
            <input class="rating_sing_input" type="radio" name="raiting" id="4" value="4">
        </div>

        <div class="rating_sing">
            <label class="rating_sing_label" for="5"><i class="fa-solid fa-star"></i></label>
            <input class="rating_sing_input" type="radio" name="raiting" id="5" value="5">
        </div>
    </form>

    <script>
        const form = document.querySelector('.form');
        const buttonS = document.querySelector('.rating_sing_input');
        const comment = document.querySelector('.rating_comment');

        buttonS.forEach(radio) => {//на radio -вешаем с обытие изменения
            radio.addEventListener('chang', function () {//те значения которые выбраны и их value или undefined
                const checkedNumber = document.querySelector('.rating_sing_input:checked').value || undefined;

                buttonS.forEach((item) => {
                    const currentLabel = item.previousElementSibling;
                    if (item.value <= checkedNumber) {
                        currentLabel.classList.add('check');
                    } else {
                        currentLabel.classList.remove('check')
                    }
                })
            })
        });


        // ююю..................или в тернарном операторе
        buttonS.forEach(radio) => {//на radio -вешаем с обытие изменения
            radio.addEventListener('chang', function () {//те значения которые выбраны и их value или undefined
                const checkedNumber = document.querySelector('.rating_sing_input:checked').value || undefined;

                buttonS.forEach((item) => {
                    const currentLabel = item.previousElementSibling;
                    (item.value <= checkedNumber) ? currentLabel.classList.add('check') : currentLabel.classList.remove('check')

                })
            })
        });

    </script>
</body>

</html>